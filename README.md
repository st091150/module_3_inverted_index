
# Inverted Index Project

## Описание проекта
Проект реализует простейшую модель инвертированного индекса с использованием алгоритмов сжатия (дельта и гамма-кодирование Элиаса). Основная цель проекта - создание системы поиска по текстовым документам с возможностью сжатия индекса для улучшения производительности и экономии места.

### Основные функции:
- Индексирование текстовых данных (из файлов JSON)
- Поиск по запросу с возможностью выбора типа сжатия
- Применение алгоритмов сжатия: Дельта-кодирование и Гамма-кодирование
- Тестирование эффективности сжатия и производительности поиска

## Структура проекта

- `main.py`: Точка входа
- `index_builder/`: Создание индекса и его кодирование
- `search/`: Поиск с использованием индекса
- `utils/`: Вспомогательные функции для препроцессинга, кодирования и декодирования
- `tests/`: Папка с тестами для проверки работы индекса и функций
- `data/`: Данные для тестирования (например, файлы JSON)

## Как запустить проект

1. Клонируйте репозиторий на ваш компьютер
2. Установите необходимые зависимости:
    ```bash
    pip install -r requirements.txt
    ```
3. Построения индекса
     ```bash
    python -m  main build {пути к файлам или regex, пример: .\data\*.json} -o {выходной файл .pkl}
    ```
4. Поиск
     ```bash
    python -m  main search {pkl файл} "текст для поиска" -e {кодирование: delta, gamma} -o {выходной файл json (default: searchOutput.json)}
    ```
5. Для запуска тестов используйте команду:
    ```bash
    python -m pytest tests/
    ```
    Результаты тестов будут отображены в консоли, а также будут созданы HTML-отчеты о выполнении тестов.

## Описание тестов

Тесты включают следующие кейсы на данных test.json:

1. **test_basic_search**: Проверка поиска по запросу "ректор СПбГУ". Ожидается, что будет найдено два документа.
2. **test_search_single_word**: Проверка поиска по одному слову "форуме". Ожидается, что будет найдено одно совпадение.
3. **test_search_multiple_results**: Проверка поиска по слову "СПбГУ". Ожидается, что будет найдено четыре документа.
4. **test_search_mgu**: Проверка поиска по слову "МГУ". Ожидается, что будет найдено два документа.
5. **test_search_with_delta**: Проверка поиска по запросу "ректор СПбГУ" с использованием дельта-кодирования.
6. **test_search_with_gamma**: Проверка поиска по запросу "ректор СПбГУ" с использованием гамма-кодирования.
7. **test_nonexistent_term**: Проверка поиска по несуществующему термину "Гарри Поттер". Ожидается сообщение о том, что документы не найдены.
8. **test_case_insensitivity**: Проверка нечувствительности поиска к регистру.
9. **test_index_keys**: Проверка наличия ключевых слов в инвертированном индексе.
10. **test_performance_of_search**: Проверка производительности поиска. Ожидается, что поиск займет менее 1 секунды.
11. **test_storage_efficiency**: Проверка эффективности хранения индекса с применением сжатия.
12. **test_delta_encoding_correctness**: Проверка корректности дельта-кодирования.
13. **test_gamma_encoding_correctness**: Проверка корректности гамма-кодирования.

